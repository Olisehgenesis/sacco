<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circular Savings DApp</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
</head>
<body>
<div class="container mt-2">
    <nav class="navbar bg-light navbar-light">
        <div class="container-fluid">
            <span class="navbar-brand m-0 h4 fw-bold">Circular Savings</span>
            <span class="nav-link border rounded-pill bg-secondary text-white">
                    <span id="balance">0</span>
                    cUSD
                </span>
        </div>
    </nav>
    <div class="mb-4" style="margin-top: 2em">
        <button class="btn btn-primary rounded-pill" id="refreshBtn">
            Refresh Groups
        </button>
    </div>

    <div class="alert alert-warning sticky-top mt-2" role="alert">
        <span id="notification">âŒ› Loading...</span>
    </div>

    <div class="mb-4" style="margin-top: 4em">
        <a class="btn btn-dark rounded-pill" data-bs-toggle="modal" data-bs-target="#newGroupModal">
            Create Saving Group
        </a>
    </div>

    <main id="savingGroupsList" class="row"></main>
</div>

<!-- New Group Modal -->
<div class="modal fade" id="newGroupModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Create New Saving Group</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <input type="number" id="newGroupAmount" class="form-control mb-2" placeholder="Amount per turn (cUSD)">
                    </div>
                    <div class="form-group">
                        <input type="number" id="newGroupTurnDuration" class="form-control mb-2" placeholder="Turn duration (days)">
                    </div>
                    <div class="form-group">
                        <input type="number" id="newGroupMaxParticipants" class="form-control mb-2" placeholder="Maximum participants">
                    </div>
                    <div class="form-group">
                        <input type="datetime-local" id="newGroupStartDate" class="form-control mb-2">
                    </div>
                </form>
            </div>
                <button type="button" class="btn btn-light border" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-dark" data-bs-dismiss="modal" id="newGroupBtn">Create Group</button>
            </div>
        </div>
    </div>
</div>
<!-- Contribute Modal -->
<div class="modal fade" id="contributeModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Contribute to Saving Group</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Group ID: <span id="contributeGroupId"></span></p>
                <p>Contribution Amount: <span id="contributeAmount"></span> cUSD</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light border" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="contributeBtn">Contribute</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@celo/contractkit@1.0.2/lib/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/big-number@2.0.0/bignumber.min.js"></script>
<script src="main.js"></script>
</body>
</html>